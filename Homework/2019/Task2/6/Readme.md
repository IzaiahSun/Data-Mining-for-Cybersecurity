# 基于机器学习的恶意网址检测

## 现实意义

网络空间安全态势日趋严峻的今天，各种层出不穷的网络攻击手段也随之出现。其中，恶意网址因为其较强的迷惑性和仿真性，极易使人上当受骗。通过机器学习来进行恶意网址检测，可以在用户即将访问恶意网址前进行警示，降低用户上当受骗的风险。同时，通过机器学习的恶意网址检测技术可以进一步提高检测的效率和准确性。

## 方法步骤

- 数据的采集/清洗。本项目直接采用了现成的数据集，并给出下载链接。
- 特征分析和提取。
- 选择算法。
- 进行测试验证。

## 训练使用的数据集

[https://www.kaggle.com/antonyj453/urldataset]()

## 提取的特征

- 判断是否为IP地址
- 统计点的数目
- 判断有没有子域名
- 统计子文件夹个数
- 统计双斜杠数目
- 统计特殊字符数目
- 计算url链接的长度

## 选择的算法

- 随机森林（Random Forest）
- 决策树（Decision tree）

## 混淆矩阵概念

> 在机器学习领域中，混淆矩阵是一种评价分类模型好坏的形象化。其中，矩阵的每一行表示样本的真实情况，矩阵的每一列表示模型对样本的预测情况。
>
> 真正（TP）：样本真实类型为正，且模型预测结果也为正。
>
> 假负（FN）：样本真实类型为正，模型预测结果却为负。
>
> 假正（FP）：样本真实类型为负，模型预测结果却为正。
>
> 真负（TN）:   样本真实类型为负，且模型预测结果也为负。

|          |    Positive    |    Negative    |
| :------: | :------------: | :------------: |
| Positive | True Positive  | False Positive |
| Negative | False Negative | True Negative  |



## 基于混淆矩阵的结果分析

> 准确率（accuracy）：正确预测出结果的样本占所有预测样本的比例。accuracy = (TP + TN) / (TP + NP + TN + FN)
>
> 召回率（recall）：在所有真实的正样本中，分类器预测结果正确的比例。recall = TP / (TP + FN)。

- 在Random Forest算法中，accuracy = 0.86   recall = 0.81
- 在Decision tree算法中，accuracy = 0.85   recall = 0.81

## 待改进之处

- 训练使用的数据集很大时，程序运行较慢，特征提取算法还有待进一步优化。

- 准确率和召回率始终低于90%，还有提升空间。
- 少数权威官方网站会被识别为恶意网址，以及少数钓鱼网站也会被识别为正常网址，模型可靠性还有待提高。